<!DOCTYPE html>
<html lang="en">
<head>
    <title>Museum Discovery</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="ginger"><img src="ginger.png" alt=""></div>

    <div class="custom-cursor"></div>
    <script>
        // 设置随机出现的文字数组
        var arr = ["在这披霜戴雪的冬日，一头扎进这沸腾的生命", "hello", "nihao", /* ... 其他文字 ... */];
        
        var customCursor = document.querySelector('.custom-cursor');

        // 记录鼠标是否按下的状态
        var isMouseDown = false;

        document.onmousemove = function (e) {
            var x = e.clientX;
            var y = e.clientY;
            
            customCursor.style.left = x + "px";
            customCursor.style.top = y + "px";
        }

        document.onmousedown = function () {
            // 鼠标按下时切换光标图像
            customCursor.style.backgroundImage = "url('mouth.png')";
            isMouseDown = true;
        }

        document.onmouseup = function () {
            // 鼠标抬起时切换回原始光标图像
            customCursor.style.backgroundImage = "url('custom-cursor.png')";
            isMouseDown = false;
        }

        document.onclick = function (e) {
            if (!isMouseDown) {
                // 创建元素节点对象
                var span = document.createElement("span");
                span.className = "span"; // 添加类名 "span"
                // 获取当前鼠标的坐标
                span.style.left = e.clientX + "px";
                span.style.top = e.clientY + "px";
                // 让span的值为arr数组内随机的一个值
                span.innerHTML = arr[Math.floor(Math.random()*arr.length)];
                // 设置span的动画效果
                setTimeout(function(){
                    span.style.opacity = "1";
                    span.style.transform = "translateY(-100px)";
                }, 100);
                setTimeout(function(){
                    span.style.opacity = "0";
                    span.style.transform = "translateY(-230px)";
                }, 1500);
                // 清掉opacity为0的span
                var chi = document.getElementsByClassName("span");
                for(var i = 0; i < chi.length; i++){
                    if(chi[i].style.opacity === "0"){
                        document.body.removeChild(chi[i]);
                    }
                }
                // 将span添加到body里
                document.body.appendChild(span);
            }
        }
    </script>
</body>
</html>
